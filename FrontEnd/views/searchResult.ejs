<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Search Results</title>
  <link rel="stylesheet" href="/styles/Necklaces.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <style>
    .banner {
      position: relative;
      background: linear-gradient(hsla(0, 2%, 81%, 0.75), rgba(203, 202, 202, 0.75)), url(../image/backimage.jpg);
      background-size: cover;
      background-position: center;
      width: 100vw;
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
      overflow: hidden;
    }

    .navbar {
      width: 85%;
      margin: auto;
      padding: 35px 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .logo {
      width: 160px;
      cursor: pointer;
    }

    .navbar ul li {
      list-style: none;
      display: inline-block;
      margin: 0 20px;
      position: relative;
    }

    .navbar ul li a {
      text-decoration: none;
      color: #fff;
      text-transform: uppercase;
    }

    .navbar ul li::after {
      content: '';
      height: 3px;
      width: 0%;
      background: #63400481;
      position: absolute;
      left: 0;
      bottom: -10px;
      transition: 0.5s;
    }

    .navbar ul li:hover::after {
      width: 100%;
    }

    .content {
      width: 100%;
      margin: 70px auto 0;
      text-align: center;
      color: #fff;
    }

    .content h1 {
      font-size: 70px;
      margin-top: 40px;
      margin-bottom: 10px;
    }

    .content p {
      margin: 10px auto;
      margin-top: 10px;
      font-weight: 100;
      line-height: 25px;
    }

    button {
      width: 200px;
      padding: 15px 0;
      text-align: center;

      border-radius: 25px;
      font-weight: bold;
      border: 2px solid #63400481;
      background: transparent;
      color: #fff;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }



    button:hover span {
      width: 100%;
    }

    button:hover {
      border: none;
      color: #63400481;
    }

    .pink-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background-color: #63400481;
      padding: 5px 0;
      text-align: center;
      font-size: 12px;
      z-index: 9999;
      opacity: 0.9;
    }

    .free-shipping {
      margin: 0;
    }

    .fa-shopping-cart {
      font-size: 24px;
      color: #63400481;
    }

    .fa-shopping-cart:before {
      content: "\f07a";
      font-family: "Font Awesome 5 Free";
      font-weight: 900;
      font-style: normal;
    }

    button.new {
      margin-top: -10px;
    }

  </style>
</head>

<body>
  <header>
    <div class="pink-bar">
      <p class="free-shipping">Free Shipping on orders over 199$</p>
    </div>

    <div class="banner">
      <div class="navbar">
        <li><a href="/graf"><img src="/image/updatelogo.png" class="logo"></a></li>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/Necklaces">Necklaces</a></li>
          <li><a href="/Rings">Rings</a></li>
          <li><a href="/Bracelets">Bracelets</a></li>
          <li><a href="/earrings">Earrings</a></li>
          <li><a href="/orders"><i class="fas fa-shopping-cart"> </i></a></li>
        </ul>
      </div>
      <a href="/" class="back-to-home-btn">

      </a>
  </header>
  <div class="logo2-container"></div>
  </div>

  <br>
  <br>
  <br>
  <br>


  <main>
    <div class="cart-container">
      <a href="/orders" class="cart-btn">
        <img src="/assets/cart.png" alt="Cart" class="cart-img">
      </a>
      <span class="cart-text">Cart</span>
      <br>
      <br>
      <br>
      <br>
      </div>  
        <section class="card-container">
          <% searchResults.forEach(item=> { %>
            <div class="card">               
                <div class="scale-background"></div>
                <div class="card-img">
                  <img src="<%= item.image %>" alt="<%= item.name %>">
                </div>
                <div class="card-info">
                  <p class="text-title item-name">
                    <%= item.name %>
                  </p>
                  <p class="text-body item-price">$<%= item.price %>
                  </p>
                  <div class="card-footer">
                    <div class="card-input">
                      <label for="<%= item.name %>-weight">Amount</label>
                      <input type="number" id="<%= item.name %>-weight" name="<%= item.name %>-weight" min="0"
                        max="10" class="item-amount">
                    </div>
                    <div class="card-button">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="feather feather-shopping-cart">
                        <circle cx="9" cy="21" r="1"></circle>
                        <circle cx="20" cy="21" r="1"></circle>
                        <path d="M1 1h4l2.5 7h13m2 0v12h-16v-12m-2 0h20"></path>
                      </svg>
                      <span class="add-to-order-btn"
                        onclick="addToOrder('<%= item.name %>', '<%= item.price %>', document.getElementById('<%= item.name %>-weight').value)">Add
                        to your Order</span>
                    </div>
                    </div>
                  </div>
            </div>
               <% }) %>
        </section>
        <div id="match-message" class="pop-up-message"></div>
  </main>

  <footer>
    <p>&copy; Â© 2024 Online Jewelry Store. All rights reserved.</p>
  </footer>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="/backend/routes/orders.js"></script>
  <script src="/backend/routes/users.js"></script>
  <script src="/backend/routes/items.js"></script>
  <script src="/backend/app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.1/dist/js.cookie.min.js"></script>
  <script src="../doOrder.js"></script>
  <script>
   const dismissButton = document.querySelector('.dismiss');
    const formContainer = document.querySelector('.add-item-form');

    dismissButton.addEventListener('click', () => {
      formContainer.style.display = 'none';
    });
    const addButton = document.querySelector('.add-item-button');
    const form = document.querySelector('.add-item-form');

    addButton.addEventListener('click', () => {
      form.style.display = 'block';
    });

  </script>
  <script>

    // Add event listener to the submit button
    const createItems = () => {
      const typeInput = document.querySelector('.input[type="addItamType"]');
      const nameInput = document.querySelector('.input[type="addItemName"]');
      const imageInput = document.querySelector('.input[type="addItemImage"]');
      const priceInput = document.querySelector('.input[type="addItemPrice"]');

      const type = typeInput.value;
      const name = nameInput.value;
      const image = imageInput.value;
      const price = parseFloat(priceInput.value);

      const newItem = { type, name, image, price };

      fetch('/items/createItems', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(newItem),
      })
        .then(response => response.json())
        .then(createdItem => {
          console.log(createdItem);
          // Handle the response from the server
        })
        .catch(error => {
          console.error(error);
          // Handle any error that occurred during the request
        });
    };


    // Add event listener to the submit button
    const submitButton = document.querySelector('.submit');
    submitButton.addEventListener('click', createItems);

  </script>
</body>

</html>